@charset "UTF-8";

@import "elements";

/*Default styles and modifier
====================================================*/

.rating {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: $rating-margin-bottom;

  .star-container {
    + .star {
      margin-left: $default-stars-label-margin;
    }
  }

  /*Rating Value
  ====================================================*/

  @for $i from $minRatingValue through $maxNumOfStars {
    &.value-#{$i} {

      .star-container {
        .star:nth-child(-n+#{$i}) {
          @extend .filled;
        }

        .star {
          @if $i <= 2 {
            @extend .negative;
          }

          @if $i == 3 {
            @extend .middle;
          }

          @if $i >= 4 {
            @extend .positive;
          }
        }
      }
    }
  }

  //Handling values > $maxNumOfStars up to $maxNumOfStars*2 (i know it's ugly)
  @for $i from $maxNumOfStars through $maxNumOfStars*2 {
    &.value-#{$i} {

      .star-container {
        .star:nth-child(-n+#{$i}) {
          svg, i, img {
            &.star-filled {
              opacity: 1;
            }
          }
        }

        .star {
          @extend .positive;
        }
      }
    }
  }

  /*Half stars*/

  //if we hals ratings > 0 && < 1 we color the first star
  &.value-0.half {
    .star {
      @extend .negative;
    }
    .star:nth-child(1) {
      @extend .half;
    }
  }

  @for $i from $minRatingValue through $maxNumOfStars {
    &.value-#{$i}.half {

      .star-container {
        @if ($i < $maxNumOfStars) {
          .star:nth-child(#{$i+1}) {
            @extend .half;
          }
        }
      }

    }
  }

  /*Rating Position
  ====================================================*/

  &.label-top {
    flex-direction: column;

    .label-value {
      + .star-container {
        margin-left: 0;
        margin-right: 0;
        margin-top: $default-stars-label-margin;
      }
    }
  }

  //Default
  .star-container {
    margin-left: $default-stars-label-margin;
    margin-right: $default-stars-label-margin;
  }

  &.label-left .label-value {
    flex: 0 0 auto;

    + .star-container {
      margin-left: $default-stars-label-margin;
      margin-right: 0;
    }
  }

  &.label-right {
    flex-direction: row-reverse;

    .label-value {
      + .star-container {
        margin-left: 0;
        margin-right: $default-stars-label-margin;
      }
    }
  }

  &.label-bottom {
    flex-direction: column-reverse;

    .label-value {
      + .star-container {
        margin-left: 0;
        margin-right: 0;
        margin-bottom: $default-stars-label-margin;
      }
    }
  }

  /*AnimationSpeed
  ====================================================*/

  //default
  .star-container {
    transition: all $default-animation-speed $default-animation-type;
    .star {
      transition: all $default-animation-speed $default-animation-type;
      svg, i, img {
        transition: all $default-animation-speed $default-animation-type;
      }
    }
  }

  &.immediately
  .star-container {
    transition: all $immediately-animation-type;
    .star {
      transition: $immediately-animation-type;
      svg, i, img {
        transition: $immediately-animation-type;
      }
    }
  }

  &.noticeable {
    .star-container {
      transition: all $default-animation-speed $default-animation-type;
      .star {
        transition: all $default-animation-speed $default-animation-type;
        svg, i, img {
          transition: all $default-animation-speed $default-animation-type;
        }
      }
    }
  }

  &.slow {
    .star-container {
      transition: all $slow-animation-speed $default-animation-type;
      .star {
        transition: all $slow-animation-speed $default-animation-type;
        svg, i, img {
          transition: all $slow-animation-speed $default-animation-type;
        }
      }
    }
  }

  /* Star Type
  ====================================================*/

  //default
  .star {
    i {
      &.star-empty:before {
        content: $default-star-character-empty;
      }
      &.star-half:before {
        content: $default-star-character-half
      }
      &.star-filled:before {
        content: $default-star-character-filled;
      }
    }
  }

  &.star-icon {
    .star {
      svg {
        display: none;
      }
      img {
        display: none;
      }
      i {
        display: block;
      }
    }
  }

  &.star-img {
    .star {
      svg {
        display: none;
      }
      i {
        display: none;
      }
      img {
        display: block;
      }
    }
  }

  &.star-svg {
    .star {
      svg {
        display: block;
      }
      i {
        display: none;
      }
      img {
        display: none;
      }
    }
  }

  /* Sizes */
  &.small {
    .star {
      width: $small-star-width;
      height: $small-star-height;
      i {
        font-size: $small-star-font-size;
        line-height: $small-star-line-height;
      }
    }

    .label-value {
      font-size: $small-label-font-size;
      line-height: $small-label-line-height;
    }
  }

  .label-value {
    font-size: $default-label-font-size;
    line-height: $default-label-line-height;
  }

  &.medium {
    .star {
      width: $default-star-width;
      height: $default-star-width;
      i {
        font-size: $default-star-font-size;
        line-height: $default-star-line-height;
      }
    }

    .label-value {
      font-size: $default-label-font-size;
      line-height: $default-star-line-height;
    }
  }

  &.large {
    .star {
      width: $large-star-width;
      height: $large-star-height;
      i {
        font-size: $large-star-font-size;
        line-height: $large-star-line-height;
      }
    }

    .label-value {
      font-size: $large-label-font-size;
      line-height: $large-star-line-height;
    }
  }

  /* Spread
  ====================================================*/

  //default
  .star-container {
    justify-content: center;
  }

  &.spread {
    .star-container {
      flex: 1 1 auto;
      justify-content: space-between;
    }
  }

  /* Static Color
    ====================================================*/

  &.color-default {
    .star-container {
      .star {
        @extend .default;
      }
    }
  }

  //default
  .star-container {
    .star {
      @extend .default;
    }
  }

  &.color-negative {
    .star-container {
      @extend .negative;
    }
  }

  &.color-middle {
    .star-container {
      .star {
        @extend .middle;
      }
    }
  }

  &.color-positive {
    .star-container {
      .star {
        @extend .positive;
      }
    }
  }

  /*Disabled
  ====================================================*/

  &.disabled {
    .label-value {
      opacity: $disabled-opacity;
    }
    .star-container {
      .star {
        opacity: $disabled-opacity;
      }
    }
  }

}